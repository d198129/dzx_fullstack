<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // let pre = 0;
    // let wait = 2000;
    // function onResize(){
    //   let current = Dare.now();
    //   if( current - pre > wait){
    //     console.log('发送网络请求');
    //     pre:current
    //   }
    // }
    // window.addEventListener('resize',onResize);
    // let p = 0;
    // function onScroll () {
    //   let c = Date.now();
    //   if(current - pre >wait){
    //     console.log('窗口滚动了');
    //     p = c;
    //   }
    // }
    // window.addEventListener('scoll',onScroll)

    //相同的：对某件事节流 (共同的流程 1 2 3 4)
    //不同的：对某件事节流 (要做的不一样)
    //要做的事：函数
    //resize
    function fn(){
      console.log('滚动事件');
    }
    function func(){
      console.log('窗口大小变了');
    }

    //高阶函数
    function throttle(fn){
      let p = 0;
      return function(){
        let current = Date.now();//当前时间
        if(current - p > 2000){
          //做某事
          fn();
          p = current;
        }
      }
    }
    //func 不具有节流功能 (事件戳 控制)
    //被 throttle包裹后 带有节流功能 (事件戳 控制)

    const xxx = throttle(func);
  </script>
</body>
</html>